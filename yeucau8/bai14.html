<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" id="product" placeholder="Nhập tên" />
    <input
      id="add"
      type="button"
      onclick="add()"
      value="Add New Product"
    /><br />
    <!--<input id="save" type="button" onclick="save()" value="Save" style="display:none;"><br>-->
    <span>Số lượng sản phẩm: </span><span id="soLuong"></span>
    <p id="display"></p>
   
  </body>
  <script>
    let productList = ["nokia", "xiaomi", "iphone"];
    function display(list) {
      let tableString =
        '<table border="1" style="border-collapse: collapse;">' +
        "  <tr>" +
        "  <th>STT</th>" +
        "  <th>name</th>" +
        "   <th>Edit</th>" +
        "  <th>Delete</th>" +
        "  </tr>";
      for (let i = 0; i < list.length; i++) {
      tableString+=  "  <tr>" +
          " <td>"+(i+1)+"</td>" +
          " <td>"+list[i]+"</td>" +
         ' <td><input type="button" onclick="edit('+i+')" value="edit"></td>' +
          ' <td><input type="button" onclick="deleteProduct('+i+')" value="delete"></td>' +
          " </tr>";
          }
       tableString+= " </table>";
       document.getElementById('display').innerHTML=tableString;
       document.getElementById("soLuong").innerText = list.length;
    }
    function add(){
        let newProduct=document.getElementById("product").value;
        if(newProduct!=""){
            productList.push(newProduct);
        }else{
            alert("ban can nhap thong tin dung");
        }
      display(productList);
      document.getElementById("product").value="";
    }
    function edit(index){
      let editName=prompt("Nhap thong tin can sua "+productList[index]);
      productList[index]=editName;
      display(productList);
    }
    function deleteProduct(index){
      let conf = confirm("ban co muon xoa "+productList[index]);
      if(conf){
        productList.splice(index,1);
      }
      display(productList);
    }
    
    display(productList);
  </script>
</html>
